<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2.6 R code chunks and inline R code | R Markdown: The Definitive Guide</title>
  <meta name="description" content="The first official book authored by the core R Markdown developers that provides a comprehensive and accurate reference to the R Markdown ecosystem. With R Markdown, you can easily create reproducible data analysis reports, presentations, dashboards, interactive applications, books, dissertations, websites, and journal articles, while enjoying the simplicity of Markdown and the great power of R and other languages." />
  <meta name="generator" content="bookdown 0.24.4 and GitBook 2.6.7" />

  <meta property="og:title" content="2.6 R code chunks and inline R code | R Markdown: The Definitive Guide" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bookdown.org/yihui/rmarkdown/" />
  <meta property="og:image" content="https://bookdown.org/yihui/rmarkdown//images/cover.png" />
  <meta property="og:description" content="The first official book authored by the core R Markdown developers that provides a comprehensive and accurate reference to the R Markdown ecosystem. With R Markdown, you can easily create reproducible data analysis reports, presentations, dashboards, interactive applications, books, dissertations, websites, and journal articles, while enjoying the simplicity of Markdown and the great power of R and other languages." />
  <meta name="github-repo" content="rstudio/rmarkdown-book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2.6 R code chunks and inline R code | R Markdown: The Definitive Guide" />
  
  <meta name="twitter:description" content="The first official book authored by the core R Markdown developers that provides a comprehensive and accurate reference to the R Markdown ecosystem. With R Markdown, you can easily create reproducible data analysis reports, presentations, dashboards, interactive applications, books, dissertations, websites, and journal articles, while enjoying the simplicity of Markdown and the great power of R and other languages." />
  <meta name="twitter:image" content="https://bookdown.org/yihui/rmarkdown//images/cover.png" />

<meta name="author" content="Yihui Xie, J. J. Allaire, Garrett Grolemund" />


<meta name="date" content="2022-01-16" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="markdown-syntax.html"/>
<link rel="next" href="language-engines.html"/>
<script src="libs/header-attrs/header-attrs.js"></script>
<script src="libs/jquery/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook/css/style.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R Markdown: The Definitive Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="how-to-read-this-book.html"><a href="how-to-read-this-book.html"><i class="fa fa-check"></i>How to read this book</a></li>
<li class="chapter" data-level="" data-path="structure-of-the-book.html"><a href="structure-of-the-book.html"><i class="fa fa-check"></i>Structure of the book</a></li>
<li class="chapter" data-level="" data-path="software-info.html"><a href="software-info.html"><i class="fa fa-check"></i>Software information and conventions</a></li>
<li class="chapter" data-level="" data-path="acknowledgments.html"><a href="acknowledgments.html"><i class="fa fa-check"></i>Acknowledgments</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="author.html"><a href="author.html"><i class="fa fa-check"></i>About the Authors</a>
<ul>
<li class="chapter" data-level="" data-path="yihui-xie.html"><a href="yihui-xie.html"><i class="fa fa-check"></i>Yihui Xie</a></li>
<li class="chapter" data-level="" data-path="j.j.-allaire.html"><a href="j.j.-allaire.html"><i class="fa fa-check"></i>J.J. Allaire</a></li>
<li class="chapter" data-level="" data-path="garrett-grolemund.html"><a href="garrett-grolemund.html"><i class="fa fa-check"></i>Garrett Grolemund</a></li>
</ul></li>
<li class="part"><span><b>I Get Started</b></span></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="basics-examples.html"><a href="basics-examples.html"><i class="fa fa-check"></i><b>2.1</b> Example applications</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="basics-examples.html"><a href="basics-examples.html#airbnbs-knowledge-repository"><i class="fa fa-check"></i><b>2.1.1</b> Airbnb’s knowledge repository</a></li>
<li class="chapter" data-level="2.1.2" data-path="basics-examples.html"><a href="basics-examples.html#homework-assignments-on-rpubs"><i class="fa fa-check"></i><b>2.1.2</b> Homework assignments on RPubs</a></li>
<li class="chapter" data-level="2.1.3" data-path="basics-examples.html"><a href="basics-examples.html#personalized-mail"><i class="fa fa-check"></i><b>2.1.3</b> Personalized mail</a></li>
<li class="chapter" data-level="2.1.4" data-path="basics-examples.html"><a href="basics-examples.html#employer-health-benefits-survey"><i class="fa fa-check"></i><b>2.1.4</b> 2017 Employer Health Benefits Survey</a></li>
<li class="chapter" data-level="2.1.5" data-path="basics-examples.html"><a href="basics-examples.html#examples-journal"><i class="fa fa-check"></i><b>2.1.5</b> Journal articles</a></li>
<li class="chapter" data-level="2.1.6" data-path="basics-examples.html"><a href="basics-examples.html#dashboards-at-eelloo"><i class="fa fa-check"></i><b>2.1.6</b> Dashboards at eelloo</a></li>
<li class="chapter" data-level="2.1.7" data-path="basics-examples.html"><a href="basics-examples.html#examples-books"><i class="fa fa-check"></i><b>2.1.7</b> Books</a></li>
<li class="chapter" data-level="2.1.8" data-path="basics-examples.html"><a href="basics-examples.html#examples-websites"><i class="fa fa-check"></i><b>2.1.8</b> Websites</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="compile.html"><a href="compile.html"><i class="fa fa-check"></i><b>2.2</b> Compile an R Markdown document</a></li>
<li class="chapter" data-level="2.3" data-path="cheat-sheets.html"><a href="cheat-sheets.html"><i class="fa fa-check"></i><b>2.3</b> Cheat sheets</a></li>
<li class="chapter" data-level="2.4" data-path="output-formats.html"><a href="output-formats.html"><i class="fa fa-check"></i><b>2.4</b> Output formats</a></li>
<li class="chapter" data-level="2.5" data-path="markdown-syntax.html"><a href="markdown-syntax.html"><i class="fa fa-check"></i><b>2.5</b> Markdown syntax</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="markdown-syntax.html"><a href="markdown-syntax.html#inline-formatting"><i class="fa fa-check"></i><b>2.5.1</b> Inline formatting</a></li>
<li class="chapter" data-level="2.5.2" data-path="markdown-syntax.html"><a href="markdown-syntax.html#block-level-elements"><i class="fa fa-check"></i><b>2.5.2</b> Block-level elements</a></li>
<li class="chapter" data-level="2.5.3" data-path="markdown-syntax.html"><a href="markdown-syntax.html#math-expressions"><i class="fa fa-check"></i><b>2.5.3</b> Math expressions</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="r-code.html"><a href="r-code.html"><i class="fa fa-check"></i><b>2.6</b> R code chunks and inline R code</a>
<ul>
<li class="chapter" data-level="2.6.1" data-path="r-code.html"><a href="r-code.html#figures"><i class="fa fa-check"></i><b>2.6.1</b> Figures</a></li>
<li class="chapter" data-level="2.6.2" data-path="r-code.html"><a href="r-code.html#tables"><i class="fa fa-check"></i><b>2.6.2</b> Tables</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="language-engines.html"><a href="language-engines.html"><i class="fa fa-check"></i><b>2.7</b> Other language engines</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="language-engines.html"><a href="language-engines.html#python"><i class="fa fa-check"></i><b>2.7.1</b> Python</a></li>
<li class="chapter" data-level="2.7.2" data-path="language-engines.html"><a href="language-engines.html#shell-scripts"><i class="fa fa-check"></i><b>2.7.2</b> Shell scripts</a></li>
<li class="chapter" data-level="2.7.3" data-path="language-engines.html"><a href="language-engines.html#sql"><i class="fa fa-check"></i><b>2.7.3</b> SQL</a></li>
<li class="chapter" data-level="2.7.4" data-path="language-engines.html"><a href="language-engines.html#rcpp"><i class="fa fa-check"></i><b>2.7.4</b> Rcpp</a></li>
<li class="chapter" data-level="2.7.5" data-path="language-engines.html"><a href="language-engines.html#stan"><i class="fa fa-check"></i><b>2.7.5</b> Stan</a></li>
<li class="chapter" data-level="2.7.6" data-path="language-engines.html"><a href="language-engines.html#javascript-and-css"><i class="fa fa-check"></i><b>2.7.6</b> JavaScript and CSS</a></li>
<li class="chapter" data-level="2.7.7" data-path="language-engines.html"><a href="language-engines.html#julia"><i class="fa fa-check"></i><b>2.7.7</b> Julia</a></li>
<li class="chapter" data-level="2.7.8" data-path="language-engines.html"><a href="language-engines.html#c-and-fortran"><i class="fa fa-check"></i><b>2.7.8</b> C and Fortran</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="interactive-documents.html"><a href="interactive-documents.html"><i class="fa fa-check"></i><b>2.8</b> Interactive documents</a>
<ul>
<li class="chapter" data-level="2.8.1" data-path="interactive-documents.html"><a href="interactive-documents.html#intro-widgets"><i class="fa fa-check"></i><b>2.8.1</b> HTML widgets</a></li>
<li class="chapter" data-level="2.8.2" data-path="interactive-documents.html"><a href="interactive-documents.html#intro-shiny"><i class="fa fa-check"></i><b>2.8.2</b> Shiny documents</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://bookdown.org" target="_blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Markdown: The Definitive Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-code" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> R code chunks and inline R code</h2>
<p>You can insert an R code chunk either using the RStudio toolbar (the <code>Insert</code> button) or the keyboard shortcut <code>Ctrl + Alt + I</code> (<code>Cmd + Option + I</code> on macOS).</p>
<p>There are a lot of things you can do in a code chunk: you can produce text output, tables, or graphics. You have fine control over all these output via chunk options, which can be provided inside the curly braces (between <code>```{r</code> and <code>}</code>). For example, you can choose hide text output via the chunk option <code>results = 'hide'</code>, or set the figure height to 4 inches via <code>fig.height = 4</code>. Chunk options are separated by commas, e.g.,</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb30-1"><a href="r-code.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, chunk-label, results=&#39;hide&#39;, fig.height=4}</span></span></code></pre></div>
<p>The value of a chunk option can be an arbitrary R expression, which makes chunk options extremely flexible. For example, the chunk option <code>eval</code> controls whether to evaluate (execute) a code chunk, and you may conditionally evaluate a chunk via a variable defined previously, e.g.,</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb31-1"><a href="r-code.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb31-2"><a href="r-code.html#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="in"># execute code if the date is later than a specified day</span></span>
<span id="cb31-3"><a href="r-code.html#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="in">do_it = Sys.Date() &gt; &#39;2018-02-14&#39;</span></span>
<span id="cb31-4"><a href="r-code.html#cb31-4" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb31-5"><a href="r-code.html#cb31-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-6"><a href="r-code.html#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval=do_it}</span></span>
<span id="cb31-7"><a href="r-code.html#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="in">x = rnorm(100)</span></span>
<span id="cb31-8"><a href="r-code.html#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>There are a large number of chunk options in <strong>knitr</strong> documented at <a href="https://yihui.name/knitr/options" class="uri">https://yihui.name/knitr/options</a>. We list a subset of them below:</p>
<ul>
<li><p><code>eval</code>: Whether to evaluate a code chunk.</p></li>
<li><p><code>echo</code>: Whether to echo the source code in the output document (someone may not prefer reading your smart source code but only results).</p></li>
<li><p><code>results</code>: When set to <code>'hide'</code>, text output will be hidden; when set to <code>'asis'</code>, text output is written “as-is”, e.g., you can write out raw Markdown text from R code (like <code>cat('**Markdown** is cool.\n')</code>). By default, text output will be wrapped in verbatim elements (typically plain code blocks).</p></li>
<li><p><code>collapse</code>: Whether to merge text output and source code into a single code block in the output. This is mostly cosmetic: <code>collapse = TRUE</code> makes the output more compact, since the R source code and its text output are displayed in a single output block. The default <code>collapse = FALSE</code> means R expressions and their text output are separated into different blocks.</p></li>
<li><p><code>warning</code>, <code>message</code>, and <code>error</code>: Whether to show warnings, messages, and errors in the output document. Note that if you set <code>error = FALSE</code>, <code>rmarkdown::render()</code> will halt on error in a code chunk, and the error will be displayed in the R console. Similarly, when <code>warning = FALSE</code> or <code>message = FALSE</code>, these messages will be shown in the R console.</p></li>
<li><p><code>include</code>: Whether to include anything from a code chunk in the output document. When <code>include = FALSE</code>, this whole code chunk is excluded in the output, but note that it will still be evaluated if <code>eval = TRUE</code>. When you are trying to set <code>echo = FALSE</code>, <code>results = 'hide'</code>, <code>warning = FALSE</code>, and <code>message = FALSE</code>, chances are you simply mean a single option <code>include = FALSE</code> instead of suppressing different types of text output individually.</p></li>
<li><p><code>cache</code>: Whether to enable caching. If caching is enabled, the same code chunk will not be evaluated the next time the document is compiled (if the code chunk was not modified), which can save you time. However, I want to honestly remind you of the two hard problems in computer science (via Phil Karlton): naming things, and cache invalidation. Caching can be handy but also tricky sometimes.</p></li>
<li><p><code>fig.width</code> and <code>fig.height</code>: The (graphical device) size of R plots in inches. R plots in code chunks are first recorded via a graphical device in <strong>knitr</strong>, and then written out to files. You can also specify the two options together in a single chunk option <code>fig.dim</code>, e.g., <code>fig.dim = c(6, 4)</code> means <code>fig.width = 6</code> and <code>fig.height = 4</code>.</p></li>
<li><p><code>out.width</code> and <code>out.height</code>: The output size of R plots in the output document. These options may scale images. You can use percentages, e.g., <code>out.width = '80%'</code> means 80% of the page width.</p></li>
<li><p><code>fig.align</code>: The alignment of plots. It can be <code>'left'</code>, <code>'center'</code>, or <code>'right'</code>.</p></li>
<li><p><code>dev</code>: The graphical device to record R plots. Typically it is <code>'pdf'</code> for LaTeX output, and <code>'png'</code> for HTML output, but you can certainly use other devices, such as <code>'svg'</code> or <code>'jpeg'</code>.</p></li>
<li><p><code>fig.cap</code>: The figure caption.</p></li>
<li><p><code>child</code>: You can include a child document in the main document. This option takes a path to an external file.</p></li>
</ul>
<p>Chunk options in <strong>knitr</strong> can be surprisingly powerful. For example, you can create animations from a series of plots in a code chunk. I will not explain how here because <a href="https://blogdown-demo.rbind.io/2018/01/31/gif-animations/">it requires an external software package</a>, but encourage you to read the documentation carefully to discover the possibilities. You may also read <span class="citation">Xie (<a href="#ref-xie2015" role="doc-biblioref">2015</a>)</span>, which is a comprehensive guide to the <strong>knitr</strong> package, but unfortunately biased towards LaTeX users for historical reasons (which was one of the reasons why I wanted to write this R Markdown book).</p>
<p>There is an optional chunk option that does not take any value, which is the chunk label. It should be the first option in the chunk header. Chunk labels are mainly used in filenames of plots and cache. If the label of a chunk is missing, a default one of the form <code>unnamed-chunk-i</code> will be generated, where <code>i</code> is incremental. I strongly recommend that you only use alphanumeric characters (<code>a-z</code>, <code>A-Z</code> and <code>0-9</code>) and dashes (<code>-</code>) in labels, because they are not special characters and will surely work for all output formats. Other characters, spaces and underscores in particular, may cause trouble in certain packages, such as <strong>bookdown</strong>.</p>
<p>If a certain option needs to be frequently set to a value in multiple code chunks, you can consider setting it globally in the first code chunk of your document, e.g.,</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb32-1"><a href="r-code.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, setup, include=FALSE}</span></span>
<span id="cb32-2"><a href="r-code.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(fig.width = 8, collapse = TRUE)</span></span>
<span id="cb32-3"><a href="r-code.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Besides code chunks, you can also insert values of R objects inline in text. For example:</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb33-1"><a href="r-code.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb33-2"><a href="r-code.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="in">x = 5  # radius of a circle</span></span>
<span id="cb33-3"><a href="r-code.html#cb33-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb33-4"><a href="r-code.html#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="r-code.html#cb33-5" aria-hidden="true" tabindex="-1"></a>For a circle with the radius <span class="in">`r x`</span>,</span>
<span id="cb33-6"><a href="r-code.html#cb33-6" aria-hidden="true" tabindex="-1"></a>its area is <span class="in">`r pi * x^2`</span>.</span></code></pre></div>
<div id="figures" class="section level3" number="2.6.1">
<h3><span class="header-section-number">2.6.1</span> Figures</h3>
<p>By default, figures produced by R code will be placed immediately after the code chunk they were generated from. For example:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb34-1"><a href="r-code.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb34-2"><a href="r-code.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="in">plot(cars, pch = 18)</span></span>
<span id="cb34-3"><a href="r-code.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>You can provide a figure caption using <code>fig.cap</code> in the chunk options. If the document output format supports the option <code>fig_caption: true</code> (e.g., the output format <code>rmarkdown::html_document</code>), the R plots will be placed into figure environments. In the case of PDF output, such figures will be automatically numbered. If you also want to number figures in other formats (such as HTML), please see the <strong>bookdown</strong> package in Chapter <a href="#books"><strong>??</strong></a> (in particular, see Section <a href="#a-single-document"><strong>??</strong></a>).</p>
<p>PDF documents are generated through the LaTeX files generated from R Markdown. A highly surprising fact to LaTeX beginners is that figures float by default: even if you generate a plot in a code chunk on the first page, the whole figure environment may float to the next page. This is just how LaTeX works by default. It has a tendency to float figures to the top or bottom of pages. Although it can be annoying and distracting, we recommend that you refrain from playing the “Whac-A-Mole” game in the beginning of your writing, i.e., desparately trying to position figures “correctly” while they seem to be always dodging you. You may wish to fine-tune the positions once the content is complete using the <code>fig.pos</code> chunk option (e.g., <code>fig.pos = 'h')</code>. See <a href="https://www.overleaf.com/learn/latex/Positioning_images_and_tables" class="uri">https://www.overleaf.com/learn/latex/Positioning_images_and_tables</a> for possible values of <code>fig.pos</code> and more general tips about this behavior in LaTeX. In short, this can be a difficult problem for PDF output.</p>
<p>To place multiple figures side-by-side from the same code chunk, you can use the <code>fig.show='hold'</code> option along with the <code>out.width</code> option. Figure <a href="r-code.html#fig:hold-position">2.5</a> shows an example with two plots, each with a width of <code>50%</code>.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="r-code.html#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mar =</span> <span class="fu">c</span>(<span class="dv">4</span>, <span class="dv">4</span>, .<span class="dv">2</span>, .<span class="dv">1</span>))</span>
<span id="cb35-2"><a href="r-code.html#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(cars, <span class="at">pch =</span> <span class="dv">19</span>)</span>
<span id="cb35-3"><a href="r-code.html#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(pressure, <span class="at">pch =</span> <span class="dv">17</span>)</span></code></pre></div>
<div class="figure"><span style="display:block;" id="fig:hold-position"></span>
<img src="rmarkdown_files/figure-html/hold-position-1.png" alt="Two plots side-by-side." width="50%" /><img src="rmarkdown_files/figure-html/hold-position-2.png" alt="Two plots side-by-side." width="50%" />
<p class="caption">
FIGURE 2.5: Two plots side-by-side.
</p>
</div>
<p>If you want to include a graphic that is not generated from R code, you may use the <code>knitr::include_graphics()</code> function, which gives you more control over the attributes of the image than the Markdown syntax of <code>![alt text or image title](path/to/image)</code> (e.g., you can specify the image width via <code>out.width</code>). Figure <a href="r-code.html#fig:include-graphics">2.6</a> provides an example of this.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb36-1"><a href="r-code.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, out.width=&#39;25%&#39;, fig.align=&#39;center&#39;, fig.cap=&#39;...&#39;}</span></span>
<span id="cb36-2"><a href="r-code.html#cb36-2" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::include_graphics(&#39;images/hex-rmarkdown.png&#39;)</span></span>
<span id="cb36-3"><a href="r-code.html#cb36-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:include-graphics"></span>
<img src="images/hex-rmarkdown.png" alt="The R Markdown hex logo." width="25%" />
<p class="caption">
FIGURE 2.6: The R Markdown hex logo.
</p>
</div>
</div>
<div id="tables" class="section level3" number="2.6.2">
<h3><span class="header-section-number">2.6.2</span> Tables</h3>
<p>The easiest way to include tables is by using <code>knitr::kable()</code>, which can create tables for HTML, PDF and Word outputs.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a> Table captions can be included by passing <code>caption</code> to the function, e.g.,</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb37-1"><a href="r-code.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r tables-mtcars}</span></span>
<span id="cb37-2"><a href="r-code.html#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::kable(iris[1:5, ], caption = &#39;A caption&#39;)</span></span>
<span id="cb37-3"><a href="r-code.html#cb37-3" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<p>Tables in non-LaTeX output formats will always be placed after the code block. For LaTeX/PDF output formats, tables have the same issue as figures: they may float. If you want to avoid this behavior, you will need to use the LaTeX package <a href="https://www.ctan.org/pkg/longtable">longtable</a>, which can break tables across multiple pages. This can be achieved by adding <code>\usepackage{longtable}</code> to your LaTeX preamble, and passing <code>longtable = TRUE</code> to <code>kable()</code>.</p>
<p>If you are looking for more advanced control of the styling of tables, you are recommended to use the <a href="https://cran.r-project.org/package=kableExtra"><strong>kableExtra</strong></a> package, which provides functions to customize the appearance of PDF and HTML tables. Formatting tables can be a very complicated task, especially when certain cells span more than one column or row. It is even more complicated when you have to consider different output formats. For example, it is difficult to make a complex table work for both PDF and HTML output. We know it is disappointing, but sometimes you may have to consider alternative ways of presenting data, such as using graphics.</p>
<p>We explain in Section <a href="#bookdown-markdown"><strong>??</strong></a> how the <strong>bookdown</strong> package extends the functionality of <strong>rmarkdown</strong> to allow for figures and tables to be easily cross-referenced within your text.</p>
</div>
</div>
<h3>References</h3>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-xie2015" class="csl-entry">
Xie, Yihui. 2015. <em>Dynamic Documents with <span>R</span> and Knitr</em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://yihui.name/knitr/">https://yihui.name/knitr/</a>.
</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>You may also consider the <strong>pander</strong> package. There are several other packages for producing tables, including <strong>xtable</strong>, <strong>Hmisc</strong>, and <strong>stargazer</strong>, but these are generally less compatible with multiple output formats.<a href="r-code.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="markdown-syntax.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="language-engines.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook/js/app.min.js"></script>
<script src="libs/gitbook/js/clipboard.min.js"></script>
<script src="libs/gitbook/js/plugin-search.js"></script>
<script src="libs/gitbook/js/plugin-sharing.js"></script>
<script src="libs/gitbook/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook/js/plugin-bookdown.js"></script>
<script src="libs/gitbook/js/jquery.highlight.js"></script>
<script src="libs/gitbook/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/rmarkdown-book/edit/master/02-basics.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["rmarkdown.pdf"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "none"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
